<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <title>Server API | Game Frame</title>

    
    
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/syntax.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>

    <nav class="clearfix">
      
      
      



  
  
    

    	
        
          <a href="./">Home</a>
    	  

    	

    
  
    

    	
        
          <a href="./android.html">Android SDK</a>
    	  
    	

    
  
    

    	
        
          <a href="./api.html" class="active">Server API</a>
    	  
    	

    
  
    

    	
        
          <a href="./models.html">Models</a>
    	  
    	

    
  





    </nav>

    <div class="wrapper">

      <header class="main">
        <hgroup>
          <h1 class="title"><a href="./">Game Frame</a></h1>
          
          <h2>multiplayer board/card game framework</h2>
          
          <div id="toc"></div>
        </hgroup>

      </header>
      <section class="main">
        <h2 id="toc_0">User Registration</h2>

<p><strong>Route:</strong> <em>POST /auth/local/register</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>the user&#39;s unique name</td>
</tr>
<tr>
<td>email</td>
<td>the user&#39;s email address</td>
</tr>
<tr>
<td>password</td>
<td>the user&#39;s password</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="kc">null</span> <span class="p">.</span>
  <span class="nx">user</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.220Z&quot;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s2">&quot;user@email.com&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;5306eb68def6573a07d7ba13&quot;</span><span class="p">,</span>
    <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.221Z&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;user&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Error:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Password must be at least 8 characters long.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<hr>

<h2 id="toc_1">User Login</h2>

<p><strong>Route:</strong> <em>POST /auth/local/login</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>identifier</td>
<td>the user&#39;s username OR email address</td>
</tr>
<tr>
<td>password</td>
<td>the user&#39;s password</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success: a User model</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">user</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.220Z&quot;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s2">&quot;user@email.com&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;5306eb68def6573a07d7ba13&quot;</span><span class="p">,</span>
    <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.221Z&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;user&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Error:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Incorrect password.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<hr>

<h2 id="toc_2">User Logout</h2>

<p><strong>Route:</strong> <em>GET /auth/local/logout</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong> None</p>

<p><strong>Output:</strong></p>

<p>Success:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="kc">null</span> 
<span class="p">}</span>
</code></pre></div>
<p><strong>Notes:</strong></p>

<p>There are currently no error messages for logging out. The &#39;success&#39; message guarantees that the current user is logged out (does not matter whether the current user was currently logged in or not when the logout request was made).</p>

<hr>

<h2 id="toc_3">Fetch Games</h2>

<p><strong>Route:</strong> <em>GET /game</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong> None</p>

<p><strong>Output:</strong></p>

<p>Success:  an array of Game models</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">[{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;530b1f08f01ac484dc981c3d&quot;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;com.gameframe.poker&quot;</span><span class="p">,</span>
  <span class="nx">developer</span><span class="o">:</span> <span class="s2">&quot;Game Frame Studios&quot;</span>
<span class="p">},</span> <span class="p">...</span> <span class="p">]</span>
</code></pre></div>
<p>Error</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Error message here.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<hr>

<h2 id="toc_4">Fetch Lobbies</h2>

<p><strong>Route:</strong> <em>POST /game/fetchLobbies</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>id of the game to fetch lobbies from</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success:  an array of Lobby models, each containing an array of User models</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">[{</span>
  <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:14:50.000Z&quot;</span><span class="p">,</span>
  <span class="nx">game</span><span class="o">:</span> <span class="s2">&quot;530b1f08f01ac484dc981c3d&quot;</span><span class="p">,</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;530b3d5cceacfc293ad9ce1f&quot;</span><span class="p">,</span>
  <span class="nx">maxNumPlayers</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">minNumPlayers</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">owner</span><span class="o">:</span> <span class="s2">&quot;530b394026b8fd163957e8ae&quot;</span><span class="p">,</span>
  <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:38:52.885Z&quot;</span><span class="p">,</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.220Z&quot;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s2">&quot;user@email.com&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;5306eb68def6573a07d7ba13&quot;</span><span class="p">,</span>
    <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.221Z&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;user&quot;</span>
  <span class="p">},</span> <span class="p">...]</span>
<span class="p">},</span> <span class="p">...</span> <span class="p">]</span>
</code></pre></div>
<p>Error</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Error message here.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<p><strong>Socket Messages:</strong></p>

<p>on: &quot;game&quot;
verb: &quot;messaged&quot;</p>

<p>event: &quot;lobbyAdded&quot;
data: a Lobby model, which contains an array of User models</p>

<p>event: &quot;lobbyRemoved&quot;
data: id of the removed Lobby</p>

<p><strong>Notes:</strong></p>

<p>Must make the request using sockets to receive socket messages.</p>

<hr>

<h2 id="toc_5">Unsubscribe from Game Lobbies</h2>

<p><strong>Route:</strong> <em>POST /game/unsubscribe</em></p>

<p><strong>Connection Type:</strong> Sockets only</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>id of the game to unsubscribe from</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<p>Error:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Error message here.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<p><strong>Socket Messages:</strong></p>

<p>No longer receive the &quot;lobbyAdded&quot; or &quot;lobbyRemoved&quot; events while listening on &quot;game&quot; with verb &quot;messaged&quot;.</p>

<hr>

<h2 id="toc_6">Create Lobby</h2>

<p><strong>Route:</strong> <em>POST /lobby/create</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>id of the game to create a lobby for</td>
</tr>
<tr>
<td>minNumPlayers</td>
<td>minimum number of players in the lobby before the game can start</td>
</tr>
<tr>
<td>maxNumPlayers</td>
<td>maximum number of players that can be in the lobby</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success: a Lobby model, which contains an array of User models</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:14:50.000Z&quot;</span><span class="p">,</span>
  <span class="nx">game</span><span class="o">:</span> <span class="s2">&quot;530b1f08f01ac484dc981c3d&quot;</span><span class="p">,</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;530b3d5cceacfc293ad9ce1f&quot;</span><span class="p">,</span>
  <span class="nx">maxNumPlayers</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">minNumPlayers</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">owner</span><span class="o">:</span> <span class="s2">&quot;530b394026b8fd163957e8ae&quot;</span><span class="p">,</span>
  <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:38:52.885Z&quot;</span><span class="p">,</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.220Z&quot;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s2">&quot;user@email.com&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;5306eb68def6573a07d7ba13&quot;</span><span class="p">,</span>
    <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.221Z&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;user&quot;</span>
  <span class="p">},</span> <span class="p">...]</span>
<span class="p">}</span>
</code></pre></div>
<p>Error:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Error message here.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<p><strong>Socket Messages:</strong></p>

<p>on: &quot;lobby&quot;
verb: &quot;messaged&quot;</p>

<p>event: &quot;userAdded&quot;
data: a User model for the newly-joined user</p>

<p>event: &quot;userRemoved&quot;
data: id of the removed user</p>

<p><strong>Notes:</strong></p>

<p>Must make the request using sockets to receive socket messages.</p>

<hr>

<h2 id="toc_7">Join Lobby</h2>

<p><strong>Route:</strong> <em>POST /lobby/join</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>id of the lobby to join</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success: a Lobby model, which contains an array of User models</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:14:50.000Z&quot;</span><span class="p">,</span>
  <span class="nx">game</span><span class="o">:</span> <span class="s2">&quot;530b1f08f01ac484dc981c3d&quot;</span><span class="p">,</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;530b3d5cceacfc293ad9ce1f&quot;</span><span class="p">,</span>
  <span class="nx">maxNumPlayers</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">minNumPlayers</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">owner</span><span class="o">:</span> <span class="s2">&quot;530b394026b8fd163957e8ae&quot;</span><span class="p">,</span>
  <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:38:52.885Z&quot;</span><span class="p">,</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.220Z&quot;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s2">&quot;user@email.com&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;5306eb68def6573a07d7ba13&quot;</span><span class="p">,</span>
    <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.221Z&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;user&quot;</span>
  <span class="p">},</span> <span class="p">...]</span>
<span class="p">}</span>
</code></pre></div>
<p>Error:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Error message here.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<p><strong>Socket Messages:</strong></p>

<p>on: &quot;lobby&quot;
verb: &quot;messaged&quot;</p>

<p>event: &quot;userAdded&quot;
data: a User model for the newly-joined user</p>

<p>event: &quot;userRemoved&quot;
data: id of the removed user</p>

<p><strong>Notes:</strong></p>

<p>Must make the request using sockets to receive socket messages.</p>

<hr>

<h2 id="toc_8">Leave Lobby</h2>

<p><strong>Route:</strong> <em>POST /lobby/leave</em></p>

<p><strong>Connection Type:</strong> HTTP Request or Sockets</p>

<p><strong>Input:</strong></p>

<table><thead>
<tr>
<th>Keys</th>
<th>Values</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>id of the lobby to leave</td>
</tr>
</tbody></table>

<p><strong>Output:</strong></p>

<p>Success: a Lobby model, which contains an array of User models</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:14:50.000Z&quot;</span><span class="p">,</span>
  <span class="nx">game</span><span class="o">:</span> <span class="s2">&quot;530b1f08f01ac484dc981c3d&quot;</span><span class="p">,</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;530b3d5cceacfc293ad9ce1f&quot;</span><span class="p">,</span>
  <span class="nx">maxNumPlayers</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">minNumPlayers</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">owner</span><span class="o">:</span> <span class="s2">&quot;530b394026b8fd163957e8ae&quot;</span><span class="p">,</span>
  <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-24T12:38:52.885Z&quot;</span><span class="p">,</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.220Z&quot;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s2">&quot;user@email.com&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;5306eb68def6573a07d7ba13&quot;</span><span class="p">,</span>
    <span class="nx">updatedAt</span><span class="o">:</span> <span class="s2">&quot;2014-02-21T06:00:08.221Z&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s2">&quot;user&quot;</span>
  <span class="p">},</span> <span class="p">...]</span>
<span class="p">}</span>
</code></pre></div>
<p>Error:</p>
<div class="highlight"><pre><code class="js language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">status</span><span class="o">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
  <span class="nx">message</span><span class="o">:</span> <span class="s2">&quot;Error message here.&quot;</span> 
<span class="p">}</span>
</code></pre></div>
<p><strong>Socket Messages:</strong></p>

<p>No longer receive the &quot;lobbyAdded&quot; or &quot;lobbyRemoved&quot; events while listening on &quot;game&quot; with verb &quot;messaged&quot;.</p>

      </section>
      <aside>
        <ul>
          <li class="contact"><a href="mailto:"></a></li>
        </ul>
      </aside>
      <footer class="main">
        <p>
          <small>Themed using <a href="http://sdb.github.com/jb-theme-ghminimal/">ghminimal</a>, based on <a href="http://github.com/orderedlist/minimal/">minimal</a>. Powered by <a href="http://github.com/mojombo/jekyll">Jekyll</a> and <a href="http://pages.github.com/">GitHub Pages</a>.</small>
        </p>
      </footer>
    </div>

    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="./js/scale.fix.js"></script>
    <script src="./js/table-of-contents.js"></script>
  </body>
</html>
